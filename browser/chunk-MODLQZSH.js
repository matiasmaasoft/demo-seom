import{b as c}from"./chunk-ZW73QO2R.js";import{a,b as s,k as l,t as d,ya as e}from"./chunk-DHO56EZB.js";var u=class n{listSignal=d(this.load());listado=this.listSignal.asReadonly();load(){try{let t=localStorage.getItem(e.SOLICITUDES);return t?JSON.parse(t):[]}catch{return[]}}save(t){localStorage.setItem(e.SOLICITUDES,JSON.stringify(t)),this.listSignal.set(t)}crear(t){let i=this.listSignal(),o="sol-"+Date.now(),r=s(a({},t),{id:o,estado:"pendiente",fecha:c}),S=[...i,r];return this.save(S),r}aprobar(t){let i=this.listSignal().map(o=>o.id===t?s(a({},o),{estado:"aprobada"}):o);this.save(i)}marcarUtilizada(t){let i=this.listSignal().map(o=>o.id===t?s(a({},o),{estado:"utilizada"}):o);this.save(i)}getById(t){return this.listSignal().find(i=>i.id===t)}listarPorSocio(t){return this.listSignal().filter(i=>i.socioId===t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=l({token:n,factory:n.\u0275fac,providedIn:"root"})};export{u as a};
