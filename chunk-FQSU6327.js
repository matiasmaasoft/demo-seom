import{a as k,b as S}from"./chunk-BO6ZYFEU.js";import"./chunk-ZW73QO2R.js";import{C as b,I as f,J as C,N as n,O as t,T as x,U as h,V as d,aa as o,ba as p,ca as v,ja as s,o as l,p as g,q as u,qa as _,ta as y,wa as M,z as m}from"./chunk-PBFQ7HWZ.js";function E(r,e){if(r&1){let i=x();n(0,"section",3)(1,"div",4),o(2,"\u{1F6D2}"),t(),n(3,"div",5)(4,"span",6),o(5,"Fecha de compra"),t(),n(6,"span",7),o(7),t()(),n(8,"p",8),o(9),t(),n(10,"p",9),o(11),t(),n(12,"h3",10),o(13,"Detalles del pago"),t(),n(14,"p",11),o(15,"Pago \xFAnico (sin cuotas)"),t(),n(16,"p",11),o(17),t()(),n(18,"button",12),h("click",function(){g(i);let c=d();return u(c.compartir())}),o(19," Compartir comprobante "),t(),n(20,"a",13),o(21,"Volver al inicio"),t()}if(r&2){let i=e,a=d();m(7),p(a.formatFecha(i.fecha)),m(2),p(a.comercioNombre()),m(2),p(a.formatMonto(i.monto)),m(6),v("C\xF3digo de transacci\xF3n: ",i.codigoTransaccion)}}function O(r,e){r&1&&(n(0,"p",14),o(1,"Comprobante no encontrado."),t(),n(2,"a",15),o(3,"Volver al inicio"),t())}var P=class r{route=l(y);consumos=l(k);comercios=l(S);consumoId=s(()=>this.route.snapshot.paramMap.get("id")??"");consumo=s(()=>this.consumos.listado().find(e=>e.id===this.consumoId()));comercioNombre=s(()=>{let e=this.consumo();return e?this.comercios.getById(e.comercioId)?.nombre??e.comercioId:""});formatFecha(e){return new Date(e).toLocaleDateString("es-AR",{day:"2-digit",month:"2-digit",year:"numeric"})}formatMonto(e){return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS"}).format(e)}compartir(){if(typeof navigator<"u"&&navigator.share){let e=this.consumo();e&&navigator.share({title:"Comprobante SEOM",text:`Compra ${this.comercioNombre()} - ${this.formatMonto(e.monto)}`}).catch(()=>{})}}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=b({type:r,selectors:[["app-comprobante"]],decls:7,vars:1,consts:[[1,"app-container","comprobante-page"],["routerLink","/socio",1,"back-link"],[1,"page-title"],[1,"card","comprobante-card"],["aria-hidden","true",1,"comprobante-icon"],[1,"comprobante-header"],[1,"comprobante-label"],[1,"comprobante-value"],[1,"comprobante-comercio"],[1,"comprobante-monto"],[1,"detail-title"],[1,"detail-line"],["type","button",1,"btn-primary","btn-share",3,"click"],["routerLink","/socio",1,"btn-secondary","link-back"],[1,"error-msg"],["routerLink","/socio",1,"btn-primary"]],template:function(i,a){if(i&1&&(n(0,"div",0)(1,"a",1),o(2,"\u2190 Volver al inicio"),t(),n(3,"h1",2),o(4,"Comprobante de pago"),t(),f(5,E,22,4)(6,O,4,0),t()),i&2){let c;m(5),C((c=a.consumo())?5:6,c)}},dependencies:[_,M],styles:[".comprobante-page[_ngcontent-%COMP%]{text-align:center}.back-link[_ngcontent-%COMP%]{display:inline-block;font-size:.875rem;font-weight:600;color:var(--seom-primary-light);margin-bottom:1rem;text-decoration:none}.back-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.page-title[_ngcontent-%COMP%]{font-size:1.375rem;font-weight:700;margin-bottom:1rem;text-align:center}.comprobante-card[_ngcontent-%COMP%]{margin-bottom:var(--seom-spacing-section);margin-left:auto;margin-right:auto;padding:var(--seom-spacing-card);text-align:center}.comprobante-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.5rem}.comprobante-header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.75rem;margin-bottom:.25rem;flex-wrap:wrap}.comprobante-label[_ngcontent-%COMP%]{font-size:.8125rem;color:var(--seom-text-muted)}.comprobante-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}.comprobante-comercio[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;margin:.5rem 0 .25rem}.comprobante-monto[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:var(--seom-primary-light);margin:0 0 1rem;letter-spacing:-.02em}.detail-title[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;margin:1rem 0 .5rem;padding-top:1rem;border-top:1px solid var(--seom-border);text-align:center}.detail-line[_ngcontent-%COMP%]{font-size:.875rem;color:var(--seom-text-muted);margin:.25rem 0;text-align:center}.btn-share[_ngcontent-%COMP%]{margin-bottom:1rem;margin-left:auto;margin-right:auto;padding:1rem;min-height:48px;display:block}.link-back[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;text-decoration:none;color:#fff;width:100%;max-width:320px;margin-left:auto;margin-right:auto;padding:.875rem .75rem;min-height:44px}.error-msg[_ngcontent-%COMP%]{font-size:.875rem;color:var(--seom-danger);margin-bottom:1rem}"]})};export{P as ComprobanteComponent};
